# Dockerfile은 이미지를 실행하는 것이 아니라 이미지를 기반으로 컨테이너를 실행하는 것이다.

FROM node

# WORKDIR 은 작업을 할 디렉터리 지정
WORKDIR /app
# 첫번째 경로는 컨테이너의 외부 이미지의 외부 경로이며 이미지로 복사되어야 할 파일들이 있는 곳
# . 은 이 프로젝트의 모든 폴더, 하위 폴더 및 파일을 복사해야 한다고 도커에게 알리는 역할
# 두번째 . 이미지 내부의 경로(자체 내부 파일 시스템)
COPY . /app

RUN npm install

EXPOSE 80


# RUN과의 차이점은 이미지가 생성될 때 실행되지 않고 이미지를 기반으로 컨테이너가 시작될 때 실행된다는 것이다.
# CMD에 특정하지 않으면 베이스 이미지가 실행되며, 그게 없는 경우 에러가 발생한다.
CMD ["node" , "server.js"]

